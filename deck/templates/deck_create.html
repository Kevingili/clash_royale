{% extends "base.html" %}

{% load crispy_forms_tags %}

{% block title %}Create Deck{% endblock %}

{% block content %}
	<h1>Create Deck</h1>
	<form method="post">

		{% csrf_token %}

	    <div class="form-group">
			{{ form.name|as_crispy_field}}
		</div>

		<div class="form-group" style="display: none;">
			{{ form.user|as_crispy_field}}
		</div>

		<div class="form-group">
			{{ form.cards|as_crispy_field}}
		</div>

	    <button type="submit" class="btn btn-primary" value="Submit" disabled>Enregistrer</button>
	</form>
	<br>
	<script type="text/javascript">
      $(document).ready(function(){
        
        $('select').select2({
		    maximumSelectionLength: 8
		});

		$("select").change(function () {
	      if($("select option:selected").length == 9) {
	      	$("button[type=submit]").removeAttr("disabled");
	      } else {
	      	$("button[type=submit]").attr("disabled", "disabled");
	      }
	  	});

		$('select').trigger("change");

      });
  </script>
	
{% endblock %}
